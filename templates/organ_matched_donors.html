<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Organ Matched Donors</title>

<link rel="stylesheet" href="../static/css/bootstrap.css">
<link rel="stylesheet" href="../static/vendors/fontawesome/css/all.min.css">

<style>
/* BODY & NAVBAR */
body{background:linear-gradient(135deg,#e8f0ff,#f7fbff); font-family:"Segoe UI", sans-serif; margin:0;}
.navbar{background:linear-gradient(90deg,#0f2c64,#1f6ed5); box-shadow:0 5px 20px rgba(0,0,0,.2);}
.navbar-brand{color:white!important;font-weight:700;}
.navbar-nav{margin:auto;}
.navbar .nav-link{color:white!important; font-weight:600; margin:0 14px; padding:6px 48px; border-radius:8px; background:linear-gradient(135deg,#2e86de,#48dbfb);}

/* HERO */
.hero-banner{background:linear-gradient(rgba(50,100,220,.85),rgba(120,200,255,.85)),url('../static/img/hero.jpg'); background-size:cover; color:white; padding:60px 0;}

/* DASHBOARD LAYOUT */
.dashboard-wrapper{display:flex;width:100%;}

/* SIDEBAR */
.sidebar{width:260px; min-height:100vh; background:linear-gradient(180deg,#0f2c64,#1f6ed5); padding:25px 15px;}
.sidebar a{display:flex; gap:12px; padding:14px 18px; margin-bottom:16px; border-radius:12px; color:white; text-decoration:none; background:rgba(255,255,255,.1);}
.sidebar a:hover{background:linear-gradient(135deg,#48dbfb,#2e86de); transform:translateX(6px);}
.sidebar a.active{background:linear-gradient(135deg,#48dbfb,#2e86de); transform:translateX(8px); box-shadow:0 0 15px rgba(72,219,251,.9);}

/* MAIN CONTENT */
.main-content{padding:35px; flex:1; display:flex; justify-content:center; align-items:flex-start;}

/* CARD */
.form-card{width:100%; max-width:950px; background:linear-gradient(135deg,#ffffff,#f3f9ff); padding:35px 40px; border-radius:25px; box-shadow:0 15px 35px rgba(0,0,0,.2); animation:fadeIn .6s ease-in-out;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);}}

/* TABLE */
.table-donors{width:100%; border-collapse:collapse; margin-top:20px;}
.table-donors th, .table-donors td{padding:12px 15px; border:1px solid #ddd; text-align:center;}
.table-donors th{background:linear-gradient(135deg,#2e86de,#48dbfb); color:white; font-weight:600; border-radius:8px;}
.table-donors tr:nth-child(even){background:#f3f9ff;}
.table-donors tr:hover{background:linear-gradient(135deg,#48dbfb,#2e86de); color:white; cursor:pointer;}

/* BUTTON */
.btn-main{display:block; margin:auto; margin-top:20px; background:linear-gradient(135deg,#0f2c64,#1f6ed5); color:white; border-radius:30px; padding:10px 40px; border:none; font-weight:600; transition:.3s;}
.btn-main:hover{background:linear-gradient(135deg,#1f6ed5,#0f2c64); transform:scale(1.05);}

/* FOOTER */
.footer-area{background:linear-gradient(90deg,#0f2c64,#1f6ed5); color:white; padding:35px 0; margin-top:40px;}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg">
<div class="container">
<a class="navbar-brand" href="#">üè• ORGAN</a>
<div class="collapse navbar-collapse">
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="/hos_home">Home</a></li>
<li class="nav-item"><a class="nav-link" href="/hos_donor">Donor</a></li>
<li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
</ul>
</div>
</div>
</nav>

<!-- HERO -->
<section class="hero-banner text-center">
<div class="container">
<h1>Organ Matched Donors</h1>
<p>Hospital Dashboard</p>
</div>
</section>

<div class="dashboard-wrapper">

<!-- SIDEBAR -->
<div class="sidebar">
<a href="/hos_pat"><i class="fas fa-user-injured"></i> Patients</a>
<a href="/hos_donor"><i class="fas fa-hand-holding-medical"></i> Donors</a>
<a href="/hos_req" class="active"><i class="fas fa-notes-medical"></i> Organ Required</a>
<a href="/hos_trans"><i class="fas fa-procedures"></i> Transplant</a>
</div>

<!-- MAIN -->
<div class="main-content">

<div class="form-card">

<h3>ü´Ä Donors Matched for Request #{{rid}}</h3>

{% if donors|length == 0 %}
<p style="text-align:center;color:#ff4d4f;font-weight:bold;margin-top:20px;">
No donors available for this organ.
</p>
{% else %}
<table class="table-donors">
    <thead>
        <tr>
            <th>Donor ID</th>
            <th>Name</th>
            <th>Age</th>
            <th>Blood Group</th>
            <th>City</th>
        </tr>
    </thead>
    <tbody>
        {% for d in donors %}
        <tr>
            <td>{{ d.donor_id }}</td>
            <td>{{ d.name }}</td>
            <td>{{ d.age }}</td>
            <td>{{ d.blood }}</td>
            <td>{{ d.city }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{{ url_for('ai_match', rid=rid) }}" class="btn-main">‚ö° Run AI Compatibility for All Donors</a>

{% endif %}

</div>

</div>
</div>

<!-- FOOTER -->
<footer class="footer-area text-center">
<div class="container">
<p>Organ Donation System ¬© 2026</p>
<p>Tamilnadu, India | organ@info.com</p>
</div>
</footer>

<script src="../static/js/jquery-2.2.4.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>

</body>
</html>
